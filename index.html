<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Website Color & Font Analyzer</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <!-- Lucide Icons for professional icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>
          <i data-lucide="palette" class="header-icon"></i>
          Website Color & Font Analyzer
        </h1>
        <p>
          Professional analysis tool for extracting color schemes, typography,
          and design elements from any website
        </p>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Control Panel -->
        <div class="control-panel">
          <h2>
            <i data-lucide="settings" class="section-icon"></i>
            Analysis Controls
          </h2>

          <div class="url-input-group">
            <input
              type="url"
              id="urlInput"
              class="url-input"
              placeholder="Enter website URL (e.g., https://example.com)"
              onclick="showUrlHistory()"
              onfocus="showUrlHistory()"
            />
            <div
              id="urlHistoryDropdown"
              class="url-history-dropdown"
              style="display: none"
            >
              <!-- URL history items will be populated here -->
            </div>
          </div>

          <button
            id="analyzeBtn"
            class="analyze-button"
            onclick="analyzeByURL()"
          >
            <i data-lucide="search" class="button-icon"></i>
            Analyze Website
          </button>
        </div>

        <!-- Website Preview -->
        <div class="website-preview">
          <h2>
            <i data-lucide="globe" class="section-icon"></i>
            Website Preview
          </h2>

          <div class="iframe-container">
            <div id="iframePlaceholder" class="iframe-placeholder">
              <div>
                <i data-lucide="monitor" class="placeholder-icon"></i>
                <div>Enter a URL above and click "Analyze Website"</div>
                <div style="font-size: 0.875rem; margin-top: 8px; opacity: 0.7">
                  The website will appear here for visual comparison
                </div>
              </div>
            </div>
            <iframe
              id="analysisIframe"
              class="analysis-iframe"
              style="display: none"
              sandbox="allow-scripts allow-same-origin allow-forms"
            ></iframe>
          </div>
        </div>
      </div>

      <!-- Progress Section -->
      <div id="progressSection" class="progress-section" style="display: none">
        <div class="progress-container">
          <div class="progress-header">
            <div class="progress-title">
              <i data-lucide="activity" class="progress-icon"></i>
              <span>Analysis in Progress</span>
            </div>
            <div class="progress-status" id="progressStatus">
              Initializing...
            </div>
          </div>

          <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar">
              <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-percentage" id="progressPercentage">0%</div>
          </div>

          <div class="progress-steps-container">
            <div id="progressSteps" class="progress-steps-modern">
              <!-- Progress steps will be populated here -->
            </div>
          </div>
        </div>
      </div>

      <!-- Results Section -->
      <div id="resultsSection" class="results-section" style="display: none">
        <h2>
          <i data-lucide="bar-chart" class="section-icon"></i>
          Analysis Results
        </h2>

        <div id="resultsGrid" class="results-grid">
          <!-- Results will be populated here -->
        </div>
      </div>

      <!-- Console Instructions -->
      <div class="console-instructions">
        <h3>
          <i data-lucide="lightbulb" class="tip-icon"></i>
          Pro Tip - Console Analysis
        </h3>
        <p>To analyze any website perfectly, follow these steps:</p>
        <ol>
          <li>Go to the website you want to analyze</li>
          <li>Open browser console (F12 â†’ Console tab)</li>
          <li>Copy and paste this code:</li>
        </ol>

        <div class="code-block-container">
          <button
            id="copyCodeBtn"
            class="copy-button"
            onclick="copyCodeToClipboard()"
          >
            <i data-lucide="clipboard" class="copy-icon"></i>
            Copy Code
          </button>
          <pre id="consoleCode" class="code-block"><code>
<span class="js-comment">// Fetch and execute the analyzer</span>
<span class="js-keyword">const</span> <span class="js-variable">script</span> = <span class="js-function">fetch</span>(<span class="js-string js-url-placeholder">'REPLACE_WITH_ACTUAL_URL'</span>)
    .<span class="js-function">then</span>(<span class="js-variable">response</span> => <span class="js-variable">response</span>.<span class="js-function">text</span>())
    .<span class="js-function">then</span>(<span class="js-variable">code</span> => {
        <span class="js-function">eval</span>(<span class="js-variable">code</span>);
        <span class="js-keyword">const</span> <span class="js-variable">results</span> = <span class="js-function">analyzeWebsiteColors</span>();
        <span class="js-function">console.log</span>(<span class="js-string">'ðŸŽ¨ Analysis Results:'</span>, <span class="js-variable">results</span>);
        <span class="js-function">console.log</span>(<span class="js-string">'ðŸ“‹ JSON Output:'</span>, <span class="js-function">JSON.stringify</span>(<span class="js-variable">results</span>, <span class="js-keyword">null</span>, <span class="js-number">2</span>));
    })
    .<span class="js-function">catch</span>(<span class="js-variable">error</span> => {
        <span class="js-function">console.error</span>(<span class="js-string">'Failed to load analyzer:'</span>, <span class="js-variable">error</span>);
    });</code></pre>
        </div>

        <p>
          <strong>Note:</strong> This method works on ANY website since it runs
          directly in the target site's context!
        </p>
      </div>
    </div>

    <script src="website_analyzer.js"></script>
    <script src="script.js"></script>
    <script>
      // Initialize Lucide icons
      document.addEventListener("DOMContentLoaded", function () {
        if (typeof lucide !== "undefined") {
          lucide.createIcons();
        }
      });
    </script>
  </body>
</html>
